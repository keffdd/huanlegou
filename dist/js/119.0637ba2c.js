"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[119],{1119:function(s,t,e){e.r(t),e.d(t,{default:function(){return I}});var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"detail"},[t("TypNav"),t("section",{staticClass:"con"},[t("div",{staticClass:"conPoin"},[t("span",{directives:[{name:"show",rawName:"v-show",value:s.categoryView.category1Name,expression:"categoryView.category1Name"}]},[s._v(s._s(s.categoryView.category1Name))]),t("span",{directives:[{name:"show",rawName:"v-show",value:s.categoryView.category2Name,expression:"categoryView.category2Name"}]},[s._v(s._s(s.categoryView.category2Name))]),t("span",{directives:[{name:"show",rawName:"v-show",value:s.categoryView.category3Name,expression:"categoryView.category3Name"}]},[s._v(s._s(s.categoryView.category3Name))])]),t("div",{staticClass:"mainCon"},[t("div",{staticClass:"previewWrap"},[t("Zoom",{attrs:{skuImageList:s.skuImageList}}),t("ImageList",{attrs:{skuImageList:s.skuImageList}})],1),t("div",{staticClass:"InfoWrap"},[t("div",{staticClass:"goodsDetail"},[t("h3",{staticClass:"InfoName"},[s._v(s._s(s.skuInfo.skuName))]),t("p",{staticClass:"news"},[s._v(s._s(s.skuInfo.skuDesc))]),t("div",{staticClass:"priceArea"},[t("div",{staticClass:"priceArea1"},[t("div",{staticClass:"title"},[s._v(" 价      格 ")]),t("div",{staticClass:"price"},[t("i",[s._v("¥")]),t("em",[s._v(s._s(s.skuInfo.price))]),t("span",[s._v("降价通知")])]),s._m(0)]),s._m(1)]),s._m(2)]),t("div",{staticClass:"choose"},[t("div",{staticClass:"chooseArea"},[t("div",{staticClass:"choosed"}),s._l(s.spuSaleAttrList,(function(e){return t("dl",{key:e.id},[t("dt",{staticClass:"title"},[s._v(s._s(e.saleAttrName))]),s._l(e.spuSaleAttrValueList,(function(a){return t("dd",{key:a.id,class:{active:1==a.isChecked},attrs:{changepirce:"0"},on:{click:function(t){return s.changeActive(a,e.spuSaleAttrValueList)}}},[s._v(" "+s._s(a.saleAttrValueName)+" ")])}))],2)}))],2),t("div",{staticClass:"cartWrap"},[t("div",{staticClass:"controls"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.skuNum,expression:"skuNum"}],staticClass:"itxt",attrs:{autocomplete:"off"},domProps:{value:s.skuNum},on:{change:s.changeskuNum,input:function(t){t.target.composing||(s.skuNum=t.target.value)}}}),t("a",{staticClass:"plus",attrs:{href:"javascript:"},on:{click:function(t){s.skuNum++}}},[s._v("+")]),t("a",{staticClass:"mins",attrs:{href:"javascript:"},on:{click:function(t){s.skuNum<=1?s.skuNum=1:s.skuNum--}}},[s._v("-")])]),t("div",{staticClass:"add"},[t("a",{on:{click:s.addOrUpdateCart}},[s._v("加入购物车")])])])])])])])],1)},i=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"remark"},[t("i",[s._v("累计评价")]),t("em",[s._v("65545")])])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"priceArea2"},[t("div",{staticClass:"title"},[t("i",[s._v("促      销")])]),t("div",{staticClass:"fixWidth"},[t("i",{staticClass:"red-bg"},[s._v("加价购")]),t("em",{staticClass:"t-gray"},[s._v("满999.00另加20.00元，或满1999.00另加30.00元，或满2999.00另加40.00元，即可在购物车换购热销商品")])])])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"support"},[t("div",{staticClass:"supportArea"},[t("div",{staticClass:"title"},[s._v(" 支      持 ")]),t("div",{staticClass:"fixWidth"},[s._v(" 以旧换新，闲置手机回收 4G套餐超值抢 礼品购 ")])]),t("div",{staticClass:"supportArea"},[t("div",{staticClass:"title"},[s._v("配 送 至")]),t("div",{staticClass:"fixWidth"},[s._v("重庆市 沙坪坝区 天星桥街道")])])])}],r=e(629),c=function(){var s=this,t=s._self._c;return t("div",{staticClass:"swiper-container"},[t("div",{staticClass:"swiper-wrapper"},s._l(s.skuImageList,(function(e,a){return t("div",{key:e.id,staticClass:"swiper-slide"},[t("img",{class:{active:s.currentIndex==a},attrs:{src:e.imgUrl},on:{click:function(t){return s.changcurrentIndex(a)}}})])})),0),t("div",{staticClass:"swiper-button-next"}),t("div",{staticClass:"swiper-button-prev"})])},n=[],u=e(5462),o={name:"ImageList",props:["skuImageList"],data(){return{currentIndex:0}},methods:{changcurrentIndex(s){this.currentIndex=s,this.$bus.$emit("getIndex",this.currentIndex)}},watch:{skuImageList(){this.$nextTick((()=>{new u.Z(".swiper-container",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:3,spaceBetween:30})}))}}},l=o,d=e(1001),m=(0,d.Z)(l,c,n,!1,null,"77ca8b4e",null),v=m.exports,p=function(){var s=this,t=s._self._c;return t("div",{staticClass:"spec-preview"},[t("img",{attrs:{src:s.imgObj.imgUrl}}),t("div",{staticClass:"event",on:{mousemove:s.handler}}),t("div",{staticClass:"big"},[t("img",{ref:"big",attrs:{src:s.imgObj.imgUrl}})]),t("div",{ref:"mask",staticClass:"mask"})])},h=[],g={name:"MyZoom",props:["skuImageList"],data(){return{currentIndex:0}},computed:{imgObj(){return this.skuImageList[this.currentIndex]||{}}},mounted(){this.$bus.$on("getIndex",(s=>{this.currentIndex=s}))},methods:{handler(s){let t=this.$refs.mask,e=this.$refs.big,a=s.offsetX-t.offsetWidth/2,i=s.offsetY-t.offsetHeight/2;a<0&&(a=0),a>=t.offsetWidth&&(a=t.offsetWidth),i<0&&(i=0),i>=t.offsetHeight&&(i=t.offsetHeight),t.style.left=a+"px",t.style.top=i+"px",e.style.left=-2*a+"px",e.style.top=-2*i+"px"}}},f=g,k=(0,d.Z)(f,p,h,!1,null,null,null),C=k.exports,_={name:"MyDetail",components:{ImageList:v,Zoom:C},data(){return{skuNum:1}},mounted(){this.$store.dispatch("getGoodsInfo",this.$route.params.skuid)},computed:{...(0,r.Se)(["categoryView","skuInfo","spuSaleAttrList"]),skuImageList(){return this.skuInfo.skuImageList||[]}},methods:{changeActive(s,t){t.forEach((s=>{s.isChecked=0})),s.isChecked=1},changeskuNum(s){let t=1*s.target.value;isNaN(t)||t<1?this.skuNum=1:this.skuNum=parseInt(t)},async addOrUpdateCart(){try{await this.$store.dispatch("addOrUpdateCart",{skuId:this.$route.params.skuid,skuNum:this.skuNum}),sessionStorage.setItem("SKUINFO",JSON.stringify(this.skuInfo)),this.$router.push({path:"/addcartsuccess",query:{skuNum:this.skuNum}})}catch(s){alert("加入购物车失败")}}}},w=_,N=(0,d.Z)(w,a,i,!1,null,"5f52c032",null),I=N.exports}}]);